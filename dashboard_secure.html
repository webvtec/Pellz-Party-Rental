<!DOCTYPE html>
<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<title>ADMIN DASHBOARD</title>
<link href="https://fonts.googleapis.com/css2?family=Zilla+Slab:wght@400;700&display=swap" rel="stylesheet"/>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<style>
  html, body {
    width: 100%;
    min-width: 0;
    max-width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
    font-family: 'Zilla Slab', serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
  }
  .header-bar {
    background: #FFD1DC;
    padding: 16px 0;
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    color: #6200ea;
    width: 100%;
    box-sizing: border-box;
    margin: 0;
    border: none;
  }
  .top-menu {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    background: #6200ea;
    padding: 10px 0;
    width: 100%;
    box-sizing: border-box;
    margin: 0;
    border: none;
  }
  .top-menu button {
    flex: 1;
    margin: 5px;
    padding: 12px;
    border: none;
    border-radius: 5px;
    background: #fff;
    color: #6200ea;
    font-weight: bold;
    cursor: pointer;
    text-align: center;
    min-width: 120px;
    transition: background 0.2s;
  }
  .top-menu button:hover { background: #FFD1DC; }
  .admin-container {
    width: 100%;
    max-width: 1100px;
    margin: 20px auto;
    padding: 20px;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.09);
    box-sizing: border-box;
    overflow-x: auto;
  }
  h2 { color: #6200ea; text-align: center; }
</style>
</head>
<body style="display:none;" id="dashboardBody">
<div class="header-bar">ADMIN DASHBOARD</div>
<div class="top-menu">
  <button onclick="showSection('gallerySection')">GALLERY</button>
  <button onclick="showSection('reservationsPage')">RESERVATIONS</button>
  <button onclick="showSection('unavailableDaysSection')">UNAVAILABLE DAYS</button>
</div>

<div class="admin-container content-section" id="gallerySection">
  <div id="adminGallery"></div>
</div>
<div class="admin-container content-section" id="reservationsPage">
  <h2>Reservations</h2>
  <div id="reservationsList"></div>
</div>
<div class="admin-container content-section" id="unavailableDaysSection">
  <h2>Set Unavailable Days</h2>
  <ul id="unavailableDatesList"></ul>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDccI-TdbCXAJr6CD77X4yOUOfezef7Oks",
  authDomain: "delivery-login-3a084.firebaseapp.com",
  projectId: "delivery-login-3a084",
  storageBucket: "delivery-login-3a084.firebasestorage.app",
  messagingSenderId: "201998621677",
  appId: "1:201998621677:web:b51c3aeb2debe18b4aa5e4"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function showSection(sectionId) {
  document.querySelectorAll('.content-section').forEach(section =>
    section.classList.remove('active')
  );
  document.getElementById(sectionId).classList.add('active');
}

firebase.auth().onAuthStateChanged(user => {
  const allowedAdmin = "carlanviroberts@gmail.com"; // allowed email
  if (user && user.email === allowedAdmin) {
    document.getElementById("dashboardBody").style.display = "block"; // show dashboard
    showSection('reservationsPage');
    // load data functions here (if needed)
  } else {
    window.location.href = 'index.html';
  }
});
</script>
</body>
</html>
